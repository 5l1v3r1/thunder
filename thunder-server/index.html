<html><head><title>ThunderNetwork</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');.lst-kix_jv6tbfowz1em-8>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-8}ol.lst-kix_jv6tbfowz1em-2.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-2 0}.lst-kix_ai7azp5lx6os-2>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-2}.lst-kix_fstuy5hiz2mw-5>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-5}ol.lst-kix_yhcsgv2hnk5w-1.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-1 0}ol.lst-kix_ge8owqwuqa6k-5.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-5 0}.lst-kix_fbh8c7lw08re-0>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-0}.lst-kix_3lz9mskx7fae-3>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-3}ol.lst-kix_3lz9mskx7fae-4.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-4 0}ol.lst-kix_fbh8c7lw08re-0.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-0 0}.lst-kix_yhcsgv2hnk5w-4>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-4}ol.lst-kix_enxdgss4fnib-8.start{counter-reset:lst-ctn-kix_enxdgss4fnib-8 0}.lst-kix_yxd24y93fq5q-1>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-1}ol.lst-kix_fbh8c7lw08re-6.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-6 0}ol.lst-kix_3lz9mskx7fae-4{list-style-type:none}ol.lst-kix_jv6tbfowz1em-8.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-8 0}ol.lst-kix_3lz9mskx7fae-3{list-style-type:none}ol.lst-kix_3lz9mskx7fae-2{list-style-type:none}ol.lst-kix_3lz9mskx7fae-1{list-style-type:none}ol.lst-kix_3lz9mskx7fae-8{list-style-type:none}ol.lst-kix_ai7azp5lx6os-1.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-1 0}ol.lst-kix_3lz9mskx7fae-7{list-style-type:none}ol.lst-kix_3lz9mskx7fae-6{list-style-type:none}ol.lst-kix_3lz9mskx7fae-5{list-style-type:none}.lst-kix_3lz9mskx7fae-1>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-1}.lst-kix_jv6tbfowz1em-6>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-6}.lst-kix_fstuy5hiz2mw-7>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-7}ol.lst-kix_3lz9mskx7fae-0{list-style-type:none}ol.lst-kix_yxd24y93fq5q-7.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-7 0}.lst-kix_wrb45agb25k0-5>li:before{content:"-  "}.lst-kix_wrb45agb25k0-6>li:before{content:"-  "}.lst-kix_ge8owqwuqa6k-2>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-2}.lst-kix_wrb45agb25k0-7>li:before{content:"-  "}.lst-kix_yhcsgv2hnk5w-6>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-6}ol.lst-kix_enxdgss4fnib-2.start{counter-reset:lst-ctn-kix_enxdgss4fnib-2 0}.lst-kix_enxdgss4fnib-7>li{counter-increment:lst-ctn-kix_enxdgss4fnib-7}.lst-kix_wrb45agb25k0-8>li:before{content:"-  "}ol.lst-kix_yhcsgv2hnk5w-6{list-style-type:none}.lst-kix_enxdgss4fnib-8>li:before{content:"" counter(lst-ctn-kix_enxdgss4fnib-8,lower-roman) ". "}ol.lst-kix_yhcsgv2hnk5w-7{list-style-type:none}ol.lst-kix_yhcsgv2hnk5w-4{list-style-type:none}.lst-kix_enxdgss4fnib-7>li:before{content:"" counter(lst-ctn-kix_enxdgss4fnib-7,lower-latin) ". "}ol.lst-kix_yhcsgv2hnk5w-5{list-style-type:none}.lst-kix_yxd24y93fq5q-5>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-5}ol.lst-kix_jv6tbfowz1em-7.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-7 0}.lst-kix_wrb45agb25k0-4>li:before{content:"-  "}ol.lst-kix_yhcsgv2hnk5w-8{list-style-type:none}.lst-kix_enxdgss4fnib-4>li:before{content:"" counter(lst-ctn-kix_enxdgss4fnib-4,lower-latin) ") "}ol.lst-kix_yxd24y93fq5q-1.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-1 0}ol.lst-kix_fbh8c7lw08re-1.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-1 0}ol.lst-kix_3lz9mskx7fae-3.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-3 0}.lst-kix_enxdgss4fnib-3>li:before{content:"" counter(lst-ctn-kix_enxdgss4fnib-3,decimal) ") "}.lst-kix_enxdgss4fnib-5>li:before{content:"" counter(lst-ctn-kix_enxdgss4fnib-5,lower-roman) ") "}ol.lst-kix_yxd24y93fq5q-8.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-8 0}ul.lst-kix_wrb45agb25k0-5{list-style-type:none}.lst-kix_enxdgss4fnib-2>li:before{content:"(" counter(lst-ctn-kix_enxdgss4fnib-2,lower-roman) ") "}.lst-kix_enxdgss4fnib-6>li:before{content:"" counter(lst-ctn-kix_enxdgss4fnib-6,decimal) ". "}.lst-kix_wrb45agb25k0-3>li:before{content:"-  "}ul.lst-kix_wrb45agb25k0-6{list-style-type:none}ul.lst-kix_wrb45agb25k0-7{list-style-type:none}ul.lst-kix_wrb45agb25k0-8{list-style-type:none}.lst-kix_ge8owqwuqa6k-1>li:before{content:"(" counter(lst-ctn-kix_ge8owqwuqa6k-1,lower-latin) ") "}.lst-kix_ge8owqwuqa6k-4>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-4}.lst-kix_wrb45agb25k0-1>li:before{content:"-  "}.lst-kix_wrb45agb25k0-2>li:before{content:"-  "}.lst-kix_ge8owqwuqa6k-0>li:before{content:"(" counter(lst-ctn-kix_ge8owqwuqa6k-0,decimal) ") "}.lst-kix_ge8owqwuqa6k-2>li:before{content:"(" counter(lst-ctn-kix_ge8owqwuqa6k-2,lower-roman) ") "}ol.lst-kix_jv6tbfowz1em-1.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-1 0}.lst-kix_wrb45agb25k0-0>li:before{content:"-  "}.lst-kix_ge8owqwuqa6k-5>li:before{content:"" counter(lst-ctn-kix_ge8owqwuqa6k-5,lower-roman) ") "}.lst-kix_ge8owqwuqa6k-4>li:before{content:"" counter(lst-ctn-kix_ge8owqwuqa6k-4,lower-latin) ") "}.lst-kix_ge8owqwuqa6k-6>li:before{content:"" counter(lst-ctn-kix_ge8owqwuqa6k-6,decimal) ". "}ol.lst-kix_ge8owqwuqa6k-6.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-6 0}.lst-kix_ge8owqwuqa6k-3>li:before{content:"" counter(lst-ctn-kix_ge8owqwuqa6k-3,decimal) ") "}.lst-kix_ge8owqwuqa6k-7>li:before{content:"" counter(lst-ctn-kix_ge8owqwuqa6k-7,lower-latin) ". "}.lst-kix_yhcsgv2hnk5w-2>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-2}ul.lst-kix_wrb45agb25k0-1{list-style-type:none}ul.lst-kix_wrb45agb25k0-2{list-style-type:none}.lst-kix_enxdgss4fnib-0>li:before{content:"(" counter(lst-ctn-kix_enxdgss4fnib-0,decimal) ") "}ul.lst-kix_wrb45agb25k0-3{list-style-type:none}.lst-kix_ai7azp5lx6os-4>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-4}.lst-kix_enxdgss4fnib-1>li:before{content:"(" counter(lst-ctn-kix_enxdgss4fnib-1,lower-latin) ") "}ul.lst-kix_wrb45agb25k0-4{list-style-type:none}.lst-kix_fbh8c7lw08re-2>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-2}ul.lst-kix_wrb45agb25k0-0{list-style-type:none}ol.lst-kix_enxdgss4fnib-1.start{counter-reset:lst-ctn-kix_enxdgss4fnib-1 0}.lst-kix_3lz9mskx7fae-5>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-5}.lst-kix_fstuy5hiz2mw-3>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-3}.lst-kix_enxdgss4fnib-3>li{counter-increment:lst-ctn-kix_enxdgss4fnib-3}ol.lst-kix_enxdgss4fnib-7.start{counter-reset:lst-ctn-kix_enxdgss4fnib-7 0}ol.lst-kix_yhcsgv2hnk5w-2{list-style-type:none}ol.lst-kix_yxd24y93fq5q-2.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-2 0}.lst-kix_enxdgss4fnib-0>li{counter-increment:lst-ctn-kix_enxdgss4fnib-0}ol.lst-kix_yhcsgv2hnk5w-3{list-style-type:none}ol.lst-kix_yhcsgv2hnk5w-0{list-style-type:none}ol.lst-kix_yhcsgv2hnk5w-1{list-style-type:none}.lst-kix_ge8owqwuqa6k-8>li:before{content:"" counter(lst-ctn-kix_ge8owqwuqa6k-8,lower-roman) ". "}ol.lst-kix_ge8owqwuqa6k-0.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-0 0}ol.lst-kix_ai7azp5lx6os-2.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-2 0}.lst-kix_enxdgss4fnib-1>li{counter-increment:lst-ctn-kix_enxdgss4fnib-1}.lst-kix_fstuy5hiz2mw-1>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-1,lower-latin) ". "}.lst-kix_fstuy5hiz2mw-5>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-5,lower-roman) ". "}.lst-kix_yxd24y93fq5q-7>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-7}ol.lst-kix_yxd24y93fq5q-6.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-6 0}.lst-kix_ai7azp5lx6os-1>li:before{content:"(" counter(lst-ctn-kix_ai7azp5lx6os-1,lower-latin) ") "}.lst-kix_ai7azp5lx6os-3>li:before{content:"" counter(lst-ctn-kix_ai7azp5lx6os-3,decimal) ") "}.lst-kix_fstuy5hiz2mw-7>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-7,lower-latin) ". "}.lst-kix_ge8owqwuqa6k-8>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-8}ol.lst-kix_ai7azp5lx6os-8{list-style-type:none}.lst-kix_enxdgss4fnib-2>li{counter-increment:lst-ctn-kix_enxdgss4fnib-2}ol.lst-kix_ai7azp5lx6os-6{list-style-type:none}ol.lst-kix_ai7azp5lx6os-7{list-style-type:none}.lst-kix_yhcsgv2hnk5w-8>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-8}.lst-kix_yxd24y93fq5q-0>li:before{content:"(" counter(lst-ctn-kix_yxd24y93fq5q-0,decimal) ") "}ol.lst-kix_yxd24y93fq5q-3.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-3 0}ol.lst-kix_fstuy5hiz2mw-8.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-8 0}ol.lst-kix_3lz9mskx7fae-0.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-0 0}ol.lst-kix_enxdgss4fnib-6.start{counter-reset:lst-ctn-kix_enxdgss4fnib-6 0}ol.lst-kix_yhcsgv2hnk5w-2.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-2 0}ol.lst-kix_fbh8c7lw08re-4.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-4 0}ol.lst-kix_fbh8c7lw08re-7.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-7 0}.lst-kix_ai7azp5lx6os-5>li:before{content:"" counter(lst-ctn-kix_ai7azp5lx6os-5,lower-roman) ") "}.lst-kix_ai7azp5lx6os-7>li:before{content:"" counter(lst-ctn-kix_ai7azp5lx6os-7,lower-latin) ". "}.lst-kix_jv6tbfowz1em-3>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-3}.lst-kix_fbh8c7lw08re-6>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-6}.lst-kix_yhcsgv2hnk5w-0>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-0}.lst-kix_ai7azp5lx6os-5>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-5}ol.lst-kix_fbh8c7lw08re-5.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-5 0}ol.lst-kix_yxd24y93fq5q-4.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-4 0}.lst-kix_jv6tbfowz1em-0>li:before{content:"(" counter(lst-ctn-kix_jv6tbfowz1em-0,decimal) ") "}.lst-kix_yhcsgv2hnk5w-1>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-1}ol.lst-kix_ai7azp5lx6os-0.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-0 0}.lst-kix_jv6tbfowz1em-2>li:before{content:"(" counter(lst-ctn-kix_jv6tbfowz1em-2,lower-roman) ") "}.lst-kix_jv6tbfowz1em-4>li:before{content:"" counter(lst-ctn-kix_jv6tbfowz1em-4,lower-latin) ") "}.lst-kix_ai7azp5lx6os-0>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-0}ol.lst-kix_enxdgss4fnib-3.start{counter-reset:lst-ctn-kix_enxdgss4fnib-3 0}.lst-kix_ai7azp5lx6os-6>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-6}.lst-kix_ge8owqwuqa6k-3>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-3}.lst-kix_yxd24y93fq5q-6>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-6}.lst-kix_yxd24y93fq5q-0>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-0}ol.lst-kix_ge8owqwuqa6k-5{list-style-type:none}.lst-kix_fbh8c7lw08re-7>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-7}ol.lst-kix_ge8owqwuqa6k-6{list-style-type:none}ol.lst-kix_enxdgss4fnib-4.start{counter-reset:lst-ctn-kix_enxdgss4fnib-4 0}ol.lst-kix_ge8owqwuqa6k-7{list-style-type:none}ol.lst-kix_ge8owqwuqa6k-8{list-style-type:none}.lst-kix_enxdgss4fnib-8>li{counter-increment:lst-ctn-kix_enxdgss4fnib-8}.lst-kix_yhcsgv2hnk5w-8>li:before{content:"" counter(lst-ctn-kix_yhcsgv2hnk5w-8,lower-roman) ". "}.lst-kix_jv6tbfowz1em-4>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-4}.lst-kix_jv6tbfowz1em-6>li:before{content:"" counter(lst-ctn-kix_jv6tbfowz1em-6,decimal) ". "}.lst-kix_jv6tbfowz1em-8>li:before{content:"" counter(lst-ctn-kix_jv6tbfowz1em-8,lower-roman) ". "}ol.lst-kix_yxd24y93fq5q-5.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-5 0}.lst-kix_yhcsgv2hnk5w-4>li:before{content:"" counter(lst-ctn-kix_yhcsgv2hnk5w-4,lower-latin) ") "}.lst-kix_yhcsgv2hnk5w-7>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-7}.lst-kix_yhcsgv2hnk5w-2>li:before{content:"(" counter(lst-ctn-kix_yhcsgv2hnk5w-2,lower-roman) ") "}.lst-kix_yhcsgv2hnk5w-6>li:before{content:"" counter(lst-ctn-kix_yhcsgv2hnk5w-6,decimal) ". "}ol.lst-kix_ge8owqwuqa6k-1{list-style-type:none}ol.lst-kix_ge8owqwuqa6k-2{list-style-type:none}ol.lst-kix_ge8owqwuqa6k-3{list-style-type:none}ol.lst-kix_ge8owqwuqa6k-4{list-style-type:none}ol.lst-kix_yhcsgv2hnk5w-0.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-0 0}.lst-kix_fstuy5hiz2mw-3>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-3,decimal) ". "}ol.lst-kix_ge8owqwuqa6k-0{list-style-type:none}.lst-kix_fbh8c7lw08re-8>li:before{content:"" counter(lst-ctn-kix_fbh8c7lw08re-8,lower-roman) ". "}ol.lst-kix_enxdgss4fnib-5.start{counter-reset:lst-ctn-kix_enxdgss4fnib-5 0}.lst-kix_fbh8c7lw08re-7>li:before{content:"" counter(lst-ctn-kix_fbh8c7lw08re-7,lower-latin) ". "}.lst-kix_3lz9mskx7fae-8>li:before{content:"" counter(lst-ctn-kix_3lz9mskx7fae-8,lower-roman) ". "}ol.lst-kix_fbh8c7lw08re-3.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-3 0}ol.lst-kix_fbh8c7lw08re-2{list-style-type:none}.lst-kix_fbh8c7lw08re-5>li:before{content:"" counter(lst-ctn-kix_fbh8c7lw08re-5,lower-roman) ") "}.lst-kix_yhcsgv2hnk5w-0>li:before{content:"(" counter(lst-ctn-kix_yhcsgv2hnk5w-0,decimal) ") "}.lst-kix_yhcsgv2hnk5w-1>li:before{content:"(" counter(lst-ctn-kix_yhcsgv2hnk5w-1,lower-latin) ") "}ol.lst-kix_fbh8c7lw08re-1{list-style-type:none}.lst-kix_yxd24y93fq5q-2>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-2}.lst-kix_fbh8c7lw08re-4>li:before{content:"" counter(lst-ctn-kix_fbh8c7lw08re-4,lower-latin) ") "}ol.lst-kix_fbh8c7lw08re-4{list-style-type:none}.lst-kix_fbh8c7lw08re-6>li:before{content:"" counter(lst-ctn-kix_fbh8c7lw08re-6,decimal) ". "}ol.lst-kix_fbh8c7lw08re-3{list-style-type:none}ol.lst-kix_ge8owqwuqa6k-2.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-2 0}ol.lst-kix_fbh8c7lw08re-6{list-style-type:none}ol.lst-kix_fbh8c7lw08re-5{list-style-type:none}ol.lst-kix_fbh8c7lw08re-8{list-style-type:none}ol.lst-kix_fbh8c7lw08re-7{list-style-type:none}.lst-kix_fbh8c7lw08re-1>li:before{content:"(" counter(lst-ctn-kix_fbh8c7lw08re-1,lower-latin) ") "}.lst-kix_3lz9mskx7fae-3>li:before{content:"" counter(lst-ctn-kix_3lz9mskx7fae-3,decimal) ") "}ol.lst-kix_yhcsgv2hnk5w-4.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-4 0}.lst-kix_fbh8c7lw08re-0>li:before{content:"(" counter(lst-ctn-kix_fbh8c7lw08re-0,decimal) ") "}.lst-kix_fbh8c7lw08re-2>li:before{content:"(" counter(lst-ctn-kix_fbh8c7lw08re-2,lower-roman) ") "}.lst-kix_fbh8c7lw08re-3>li:before{content:"" counter(lst-ctn-kix_fbh8c7lw08re-3,decimal) ") "}ol.lst-kix_fstuy5hiz2mw-6.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-6 0}.lst-kix_3lz9mskx7fae-5>li:before{content:"" counter(lst-ctn-kix_3lz9mskx7fae-5,lower-roman) ") "}.lst-kix_3lz9mskx7fae-4>li:before{content:"" counter(lst-ctn-kix_3lz9mskx7fae-4,lower-latin) ") "}.lst-kix_fstuy5hiz2mw-4>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-4}.lst-kix_3lz9mskx7fae-7>li:before{content:"" counter(lst-ctn-kix_3lz9mskx7fae-7,lower-latin) ". "}.lst-kix_fbh8c7lw08re-1>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-1}.lst-kix_ai7azp5lx6os-3>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-3}.lst-kix_ge8owqwuqa6k-1>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-1}.lst-kix_3lz9mskx7fae-6>li:before{content:"" counter(lst-ctn-kix_3lz9mskx7fae-6,decimal) ". "}ol.lst-kix_3lz9mskx7fae-1.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-1 0}ol.lst-kix_fstuy5hiz2mw-4{list-style-type:none}ol.lst-kix_fstuy5hiz2mw-5{list-style-type:none}ol.lst-kix_jv6tbfowz1em-1{list-style-type:none}ol.lst-kix_fstuy5hiz2mw-2{list-style-type:none}ol.lst-kix_jv6tbfowz1em-0{list-style-type:none}ol.lst-kix_fstuy5hiz2mw-3{list-style-type:none}ol.lst-kix_fstuy5hiz2mw-8{list-style-type:none}.lst-kix_3lz9mskx7fae-4>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-4}ol.lst-kix_fstuy5hiz2mw-6{list-style-type:none}ol.lst-kix_fstuy5hiz2mw-7{list-style-type:none}ol.lst-kix_3lz9mskx7fae-7.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-7 0}ol.lst-kix_fstuy5hiz2mw-0{list-style-type:none}ol.lst-kix_fstuy5hiz2mw-1{list-style-type:none}.lst-kix_yhcsgv2hnk5w-3>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-3}ol.lst-kix_ge8owqwuqa6k-8.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-8 0}ol.lst-kix_fbh8c7lw08re-0{list-style-type:none}ol.lst-kix_jv6tbfowz1em-7{list-style-type:none}ol.lst-kix_jv6tbfowz1em-6{list-style-type:none}ol.lst-kix_jv6tbfowz1em-8{list-style-type:none}ol.lst-kix_jv6tbfowz1em-3{list-style-type:none}ol.lst-kix_jv6tbfowz1em-2{list-style-type:none}ol.lst-kix_jv6tbfowz1em-5{list-style-type:none}ol.lst-kix_jv6tbfowz1em-4{list-style-type:none}ol.lst-kix_jv6tbfowz1em-5.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-5 0}.lst-kix_jv6tbfowz1em-5>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-5}ol.lst-kix_enxdgss4fnib-0.start{counter-reset:lst-ctn-kix_enxdgss4fnib-0 0}ol.lst-kix_ge8owqwuqa6k-7.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-7 0}ol.lst-kix_fbh8c7lw08re-8.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-8 0}ol.lst-kix_yhcsgv2hnk5w-3.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-3 0}.lst-kix_ge8owqwuqa6k-5>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-5}ol.lst-kix_ai7azp5lx6os-4.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-4 0}ol.lst-kix_fstuy5hiz2mw-0.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-0 0}.lst-kix_fbh8c7lw08re-8>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-8}.lst-kix_yxd24y93fq5q-4>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-4}.lst-kix_yhcsgv2hnk5w-5>li{counter-increment:lst-ctn-kix_yhcsgv2hnk5w-5}.lst-kix_yxd24y93fq5q-3>li:before{content:"" counter(lst-ctn-kix_yxd24y93fq5q-3,decimal) ") "}ol.lst-kix_ai7azp5lx6os-0{list-style-type:none}ol.lst-kix_ai7azp5lx6os-1{list-style-type:none}.lst-kix_yxd24y93fq5q-1>li:before{content:"(" counter(lst-ctn-kix_yxd24y93fq5q-1,lower-latin) ") "}.lst-kix_yxd24y93fq5q-5>li:before{content:"" counter(lst-ctn-kix_yxd24y93fq5q-5,lower-roman) ") "}ol.lst-kix_ai7azp5lx6os-4{list-style-type:none}ol.lst-kix_ai7azp5lx6os-5{list-style-type:none}.lst-kix_yxd24y93fq5q-2>li:before{content:"(" counter(lst-ctn-kix_yxd24y93fq5q-2,lower-roman) ") "}.lst-kix_yxd24y93fq5q-6>li:before{content:"" counter(lst-ctn-kix_yxd24y93fq5q-6,decimal) ". "}ol.lst-kix_ai7azp5lx6os-2{list-style-type:none}ol.lst-kix_ai7azp5lx6os-3{list-style-type:none}ol.lst-kix_ai7azp5lx6os-3.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-3 0}.lst-kix_ai7azp5lx6os-1>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-1}.lst-kix_ai7azp5lx6os-7>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-7}.lst-kix_yxd24y93fq5q-4>li:before{content:"" counter(lst-ctn-kix_yxd24y93fq5q-4,lower-latin) ") "}ol.lst-kix_fstuy5hiz2mw-1.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-1 0}.lst-kix_3lz9mskx7fae-2>li:before{content:"(" counter(lst-ctn-kix_3lz9mskx7fae-2,lower-roman) ") "}.lst-kix_enxdgss4fnib-6>li{counter-increment:lst-ctn-kix_enxdgss4fnib-6}.lst-kix_fstuy5hiz2mw-0>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-0}.lst-kix_3lz9mskx7fae-2>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-2}.lst-kix_3lz9mskx7fae-1>li:before{content:"(" counter(lst-ctn-kix_3lz9mskx7fae-1,lower-latin) ") "}ol.lst-kix_3lz9mskx7fae-2.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-2 0}.lst-kix_3lz9mskx7fae-0>li:before{content:"(" counter(lst-ctn-kix_3lz9mskx7fae-0,decimal) ") "}.lst-kix_3lz9mskx7fae-8>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-8}.lst-kix_yxd24y93fq5q-7>li:before{content:"" counter(lst-ctn-kix_yxd24y93fq5q-7,lower-latin) ". "}ol.lst-kix_jv6tbfowz1em-0.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-0 0}ol.lst-kix_fstuy5hiz2mw-7.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-7 0}.lst-kix_fstuy5hiz2mw-6>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-6}.lst-kix_yxd24y93fq5q-8>li:before{content:"" counter(lst-ctn-kix_yxd24y93fq5q-8,lower-roman) ". "}ol.lst-kix_fbh8c7lw08re-2.start{counter-reset:lst-ctn-kix_fbh8c7lw08re-2 0}ol.lst-kix_yxd24y93fq5q-6{list-style-type:none}.lst-kix_fstuy5hiz2mw-4>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-4,lower-latin) ". "}ol.lst-kix_yxd24y93fq5q-7{list-style-type:none}.lst-kix_ai7azp5lx6os-8>li{counter-increment:lst-ctn-kix_ai7azp5lx6os-8}ol.lst-kix_yxd24y93fq5q-4{list-style-type:none}.lst-kix_jv6tbfowz1em-2>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-2}ol.lst-kix_yxd24y93fq5q-5{list-style-type:none}.lst-kix_fstuy5hiz2mw-2>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-2,lower-roman) ". "}.lst-kix_fstuy5hiz2mw-6>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-6,decimal) ". "}ol.lst-kix_yhcsgv2hnk5w-8.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-8 0}ol.lst-kix_yxd24y93fq5q-8{list-style-type:none}.lst-kix_ai7azp5lx6os-0>li:before{content:"(" counter(lst-ctn-kix_ai7azp5lx6os-0,decimal) ") "}ol.lst-kix_fstuy5hiz2mw-2.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-2 0}.lst-kix_fstuy5hiz2mw-0>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-0,decimal) ". "}.lst-kix_fstuy5hiz2mw-8>li:before{content:"" counter(lst-ctn-kix_fstuy5hiz2mw-8,lower-roman) ". "}ol.lst-kix_3lz9mskx7fae-8.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-8 0}.lst-kix_ai7azp5lx6os-2>li:before{content:"(" counter(lst-ctn-kix_ai7azp5lx6os-2,lower-roman) ") "}.lst-kix_fbh8c7lw08re-5>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-5}ol.lst-kix_ai7azp5lx6os-5.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-5 0}ol.lst-kix_fstuy5hiz2mw-5.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-5 0}ol.lst-kix_enxdgss4fnib-2{list-style-type:none}.lst-kix_yxd24y93fq5q-8>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-8}ol.lst-kix_enxdgss4fnib-3{list-style-type:none}ol.lst-kix_enxdgss4fnib-0{list-style-type:none}ol.lst-kix_jv6tbfowz1em-6.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-6 0}ol.lst-kix_enxdgss4fnib-1{list-style-type:none}.lst-kix_ge8owqwuqa6k-7>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-7}ol.lst-kix_yxd24y93fq5q-2{list-style-type:none}ol.lst-kix_yxd24y93fq5q-3{list-style-type:none}ol.lst-kix_yxd24y93fq5q-0{list-style-type:none}ol.lst-kix_yxd24y93fq5q-1{list-style-type:none}ol.lst-kix_ai7azp5lx6os-8.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-8 0}.lst-kix_3lz9mskx7fae-7>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-7}ol.lst-kix_ge8owqwuqa6k-1.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-1 0}ol.lst-kix_enxdgss4fnib-6{list-style-type:none}ol.lst-kix_enxdgss4fnib-7{list-style-type:none}ol.lst-kix_yxd24y93fq5q-0.start{counter-reset:lst-ctn-kix_yxd24y93fq5q-0 0}ol.lst-kix_enxdgss4fnib-4{list-style-type:none}ol.lst-kix_enxdgss4fnib-5{list-style-type:none}ol.lst-kix_enxdgss4fnib-8{list-style-type:none}.lst-kix_jv6tbfowz1em-0>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-0}.lst-kix_ai7azp5lx6os-4>li:before{content:"" counter(lst-ctn-kix_ai7azp5lx6os-4,lower-latin) ") "}.lst-kix_ai7azp5lx6os-8>li:before{content:"" counter(lst-ctn-kix_ai7azp5lx6os-8,lower-roman) ". "}ol.lst-kix_yhcsgv2hnk5w-5.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-5 0}.lst-kix_ai7azp5lx6os-6>li:before{content:"" counter(lst-ctn-kix_ai7azp5lx6os-6,decimal) ". "}ol.lst-kix_3lz9mskx7fae-6.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-6 0}.lst-kix_fbh8c7lw08re-3>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-3}.lst-kix_3lz9mskx7fae-0>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-0}ol.lst-kix_yhcsgv2hnk5w-6.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-6 0}.lst-kix_fstuy5hiz2mw-8>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-8}.lst-kix_enxdgss4fnib-4>li{counter-increment:lst-ctn-kix_enxdgss4fnib-4}.lst-kix_3lz9mskx7fae-6>li{counter-increment:lst-ctn-kix_3lz9mskx7fae-6}.lst-kix_fstuy5hiz2mw-2>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-2}.lst-kix_jv6tbfowz1em-3>li:before{content:"" counter(lst-ctn-kix_jv6tbfowz1em-3,decimal) ") "}.lst-kix_jv6tbfowz1em-1>li:before{content:"(" counter(lst-ctn-kix_jv6tbfowz1em-1,lower-latin) ") "}ol.lst-kix_jv6tbfowz1em-4.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-4 0}.lst-kix_jv6tbfowz1em-5>li:before{content:"" counter(lst-ctn-kix_jv6tbfowz1em-5,lower-roman) ") "}ol.lst-kix_ge8owqwuqa6k-4.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-4 0}ol.lst-kix_ai7azp5lx6os-7.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-7 0}.lst-kix_fstuy5hiz2mw-1>li{counter-increment:lst-ctn-kix_fstuy5hiz2mw-1}.lst-kix_enxdgss4fnib-5>li{counter-increment:lst-ctn-kix_enxdgss4fnib-5}ol.lst-kix_fstuy5hiz2mw-3.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-3 0}ol.lst-kix_yhcsgv2hnk5w-7.start{counter-reset:lst-ctn-kix_yhcsgv2hnk5w-7 0}.lst-kix_yxd24y93fq5q-3>li{counter-increment:lst-ctn-kix_yxd24y93fq5q-3}.lst-kix_ge8owqwuqa6k-0>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-0}.lst-kix_ge8owqwuqa6k-6>li{counter-increment:lst-ctn-kix_ge8owqwuqa6k-6}.lst-kix_fbh8c7lw08re-4>li{counter-increment:lst-ctn-kix_fbh8c7lw08re-4}.lst-kix_jv6tbfowz1em-1>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-1}.lst-kix_jv6tbfowz1em-7>li:before{content:"" counter(lst-ctn-kix_jv6tbfowz1em-7,lower-latin) ". "}ol.lst-kix_jv6tbfowz1em-3.start{counter-reset:lst-ctn-kix_jv6tbfowz1em-3 0}.lst-kix_yhcsgv2hnk5w-5>li:before{content:"" counter(lst-ctn-kix_yhcsgv2hnk5w-5,lower-roman) ") "}ol.lst-kix_ge8owqwuqa6k-3.start{counter-reset:lst-ctn-kix_ge8owqwuqa6k-3 0}.lst-kix_jv6tbfowz1em-7>li{counter-increment:lst-ctn-kix_jv6tbfowz1em-7}.lst-kix_yhcsgv2hnk5w-3>li:before{content:"" counter(lst-ctn-kix_yhcsgv2hnk5w-3,decimal) ") "}.lst-kix_yhcsgv2hnk5w-7>li:before{content:"" counter(lst-ctn-kix_yhcsgv2hnk5w-7,lower-latin) ". "}ol.lst-kix_fstuy5hiz2mw-4.start{counter-reset:lst-ctn-kix_fstuy5hiz2mw-4 0}ol.lst-kix_3lz9mskx7fae-5.start{counter-reset:lst-ctn-kix_3lz9mskx7fae-5 0}ol.lst-kix_ai7azp5lx6os-6.start{counter-reset:lst-ctn-kix_ai7azp5lx6os-6 0}ol{margin:0;padding:0}.c0{margin-left:-36pt;orphans:2;widows:2;direction:ltr;height:11pt}.c17{background-color:#fdfeff;font-size:10pt;font-style:italic;color:#001320}.c3{margin-left:-36pt;orphans:2;widows:2;direction:ltr}.c12{background-color:#ffffff;max-width:697.9pt;padding:72pt 72pt 72pt 72pt}.c2{font-size:14pt;font-weight:bold}.c15{color:inherit;text-decoration:inherit}.c13{background-color:#fff6d5;font-size:10pt}.c1{padding:0;margin:0}.c10{list-style-position:inside;text-indent:0pt}.c5{font-size:12pt;font-family:"Consolas"}.c14{font-size:13pt}.c21{text-align:center}.c18{text-decoration:underline}.c11{font-size:16pt}.c20{font-style:italic}.c6{font-weight:bold}.c19{color:#1155cc}.c9{font-size:12pt}.c4{text-align:left}.c22{font-size:10pt}.c16{font-size:18pt}.c7{font-family:"Consolas"}.c8{margin-right:-63pt}.title{padding-top:0pt;color:#000000;font-size:21pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:13pt;padding-bottom:10pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:10pt;color:#000000;font-size:16pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:10pt;color:#000000;font-weight:bold;font-size:13pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:8pt;color:#666666;font-weight:bold;font-size:12pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:8pt;color:#666666;text-decoration:underline;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c12"><p class="c3 c21"><span class="c16">Thunder Network</span></p><p class="c3 c21"><span class="c20 c22">Mats Jerratsch - matsjj@gmail.com</span></p><p class="c0"><span class="c20"></span></p><p class="c3"><span class="c17">Your thunder was heard in the whirlwind, your lightning lit up the world; the earth trembled and quaked. -</span><span class="c20 c22">Psalm 77:18</span></p><p class="c0"><span class="c20 c22"></span></p><p class="c0"><span class="c9"></span></p><p class="c3"><span>A productive prototype implementation of the Lightning Network on a client-server model with simplifications to allow for a similar experience with features readily available today.</span></p><p class="c0"><span></span></p><p class="c3"><span>This prototype is made up on two back-end libraries and a client front-end. I used bitcoinJ to have a proper framework for all of the bitcoin logic, and implemented my modifications of the LN, from here on called Thunder Network, as it is thought of a predecessor</span><span class="c13">&nbsp;of LN</span><span>. </span></p><p class="c0"><span class="c9"></span></p><p class="c3"><span class="c6 c9">GitHub Repository</span></p><p class="c3"><span class="c18 c6 c9 c19"><a class="c15" href="https://github.com/matsjj/thundernetwork">https://github.com/matsjj/thundernetwork</a></span></p><p class="c0"><span class="c9"></span></p><p class="c3"><span class="c6 c9">Executable Wallet .jar</span></p><p class="c0"><span class="c9"></span></p><p class="c3"><span class="c9">This software is in alpha status and a work in progress. </span></p><p class="c3"><span class="c9">The main goal of this project is to provide libraries that can be used in other, more widely used wallets. The GUI provided is just a prototype to show the functionality.</span></p><p class="c0"><span class="c9"></span></p><p class="c3"><span class="c2 c7">Roadmap</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ 40% ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Server Functionality</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ 30% ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Client Functionality</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ 10% ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Testing</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ 10% ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Security Hardening</span></p><p class="c0"><span class="c5"></span></p><p class="c3"><span class="c2 c7">Working</span></p><p class="c3"><span class="c7 c14">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Server-Client Communications</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open Channel</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make Payment</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redeem Payment</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update Channel</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close Channel</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14 c7">Server</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monitoring Blockchain for Transactions</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Claiming Outputs for revoked Transactions</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Broadcasting Refunds and Settlements for correct Transactions</span></p><p class="c0"><span class="c5"></span></p><p class="c3"><span class="c2 c7">Necessary for MainNet</span></p><p class="c3"><span class="c14 c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Server-Client Communications</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restore Channel on Client</span></p><p class="c3"><span class="c14 c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Server</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increased Backup Services</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removal of Hot Wallet</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14 c7">Client</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monitoring Blockchain for Transactions</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Claiming Outputs for revoked Transactions</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Broadcasting Refunds and Settlements for correct Transactions</span></p><p class="c3"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c14 c7">ClientGUI</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Various Features (esp. Data Consistency)</span></p><p class="c0"><span class="c5"></span></p><p class="c3"><span class="c2 c7">Planned Features (depending on Interest)</span></p><p class="c3"><span class="c14 c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Server-Client Communication</span></p><p class="c3"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Websocket for Update-Pushing</span></p><p class="c0"><span class="c9"></span></p><p class="c0"><span class="c9"></span></p><p class="c0"><span class="c20 c22"></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c2">Motivations</span></p><p class="c0"><span></span></p><p class="c3"><span>The lightning network allows new features on top of the current bitcoin network. Among those are instant transactions and a better scalability, while reducing the cost for individual transactions. As the network runs into fundamentally based capacity problems, one solution may be to offload uncritical transactions (that is, everyday transactions, especially transactions &lt;10$) to a centralized service, while preserving many of the very important properties of using bitcoin. </span></p><p class="c0"><span></span></p><p class="c3"><span>The initial proposal of the lightning network required some new features, that required at least a soft fork (most importantly SIGHASH_NOINPUT in P2SH), pushing any real implementation many months or even years into the future. A recent suggestions changed the channel design such that we only need two new OP_CODES, with one in deployment already. While these changes are less controversial, it is still not possible to foresee how long it will take until these changes are fully implemented. </span></p><p class="c0"><span></span></p><p class="c3"><span>I therefore changed the channel design of the initial paper such that it can be implemented with the tools currently available in bitcoin. While such a channel does no longer work in a completely trustless manner, it is a good trade-off to start implementing LN. Most importantly, it allows deployment of software using something similar to the future LN implementations for now. Changing all the infrastructure from using the blockchain to LN is the most difficult task and it will take a long time to establish a reliable network. </span></p><p class="c0"><span></span></p><p class="c3"><span>With a centralised server-client model, it will be easy to swap out outdated software, as new features in bitcoin will allow for better channeldesign in TN. Any new ruleset can be enforced by the server and implementing the thunder network in a library fashion will make it easy for software developer to adapt to new changes. </span></p><p class="c0"><span></span></p><p class="c3"><span>As this is a low-trust and not a no-trust solution, a decentralized network with many different payment hubs is currently not possible. One trade-off would be to have one higher-level payment hub, that act as a central hub, with other hubs as clients. This would, however, not solve any of the issues with just having one payment hub in the first place. Furthermore, all the benefits and drawbacks of having a really large network with over thousand different payment hubs have yet to be determined. </span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c2">The Channel Design</span></p><p class="c0"><span></span></p><p class="c3"><span>The design of the channel is based on the initial proposal of the Lightning Network, that needed SIGHASH_NOINPUT to work properly. </span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span>The need for SIGHASH_NOINPUT is for two reasons:</span></p><p class="c0"><span></span></p><ol class="c1 lst-kix_ai7azp5lx6os-0 start" start="1"><li class="c3 c10"><span>The design of transaction ids in bitcoin does allow for mutability. As transactions can be changed with a new signature, the id does change and subsequent transactions can no longer be broadcasted, as the referenced id does not exist. </span></li><li class="c3 c10"><span>Some of the needed transactions (especially the payment settlement tx) can not be built completely during channel creation, due to the very nature of the design. As a preimage is needed to claim an output that is yet unknown, we cannot have transactions building upon this transactions (as we don&rsquo;t know the txid until we know the preimage)</span></li></ol><p class="c0"><span></span></p><p class="c3"><span>Thunder Network tries to mitigate these two problems, trying to preserve as much of the integrity of the LN design. </span></p><p class="c0"><span></span></p><p class="c3 c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1043.50px; height: 986.32px;"><img alt="channel_design_payment_to_server.png" src="images/image00.png" style="width: 1043.50px; height: 986.32px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span>Updated channel, with v0 revoked. The updated channel includes a payment from a client (A) to the server (B).</span></p><p class="c0"><span></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1033.50px; height: 925.69px;"><img alt="channel_design_payment_from_server.png" src="images/image05.png" style="width: 1033.50px; height: 925.69px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span>Updated channel, with v0 revoked. The updated channel includes a payment from the server (B) to a client(C).</span></p><p class="c0"><span></span></p><p class="c3"><span>All design decisions were made to have unresolved trust issues due to the lack of SIGHASH_NOINPUT shifted towards the server. As others may have more funds and incentives to shut down such a service, attacks must not result in a loss of server funds. Also, the server has an additional incentive to stay honest, due to the possible loss of reputation that the client does not have to fear, as he is can act anonymously. A breach of contract on the server side will become public across social networks instantly, while a breach of contract from the client will likely have no consequences.</span></p><p class="c0"><span></span></p><p class="c3"><span>Furthermore, the channel were designed such that the serverside channel is still very close to the initial design, allowing little room for malicious activities. Only the clientside channel has been changed, such that the server cannot enforce it.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Channel Creation</span></p><p class="c0"><span class="c6"></span></p><p class="c3"><span>As funds of both parties get locked up in a multisig manner, it is possible to hold funds of the other party hostage at the expense of your own funds. Therefore refund transactions are created prior of the broadcast of the channel transaction. That party that is broadcasting this very transaction can however resign and therefore change the transaction id, invalidating the refund transactions. </span></p><p class="c0"><span></span></p><p class="c3"><span>In thunder network, the server will create an unsigned transaction with inputs from the server, and outputs to the channel and to his change addresses and communicates it with the client. The client can afterwards add his inputs and change outputs, sign his inputs and send it back to the server. The server can sign his inputs and does have the complete transaction. He should not broadcast it though, because the two parties still need to interchange the refund transactions. </span></p><p class="c0"><span></span></p><p class="c3"><span>Channel creation therefore always happens on the serverside. The server _could_ resign, but has further incentives to stay honest.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Revocable Change</span></p><p class="c0"><span></span></p><p class="c3"><span>Both parties have their change encumbered in an revocable output in their respective channels. By exchanging the own private key to a multisig output, we allow the counterparty to steal our funds, as the transaction that we hold is timelocked. The timelock of this &lsquo;revoke transaction&rsquo; is always set to the end of the channel. It serves as an descentive to broadcast old channel transactions. Also, resigning and thus invalidating the revoke transaction will only cost the malicious party money, as the change of the other party is not encumbered. </span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Payment Outputs</span></p><p class="c0"><span class="c6"></span></p><p class="c3"><span>From here on we have to distinguish between the side the channeltransaction resides. As the client cannot be assumed to act honestly, the outputs of his channel has been changed in favor of the server. </span></p><p class="c0"><span></span></p><p class="c3"><span>Additionally we have to distinguish between payments to the server (Alice to Bob) or payments to the client (Bob to Carol), as the latter bear an increased risk of malicious activities.</span></p><p class="c0"><span></span></p><p class="c3"><span>Payments from the Client to the Server (Alice to Bob)</span></p><p class="c0"><span></span></p><p class="c3"><span>serverside:</span></p><p class="c0"><span></span></p><p class="c3"><span>&hellip;</span></p><p class="c0"><span></span></p><p class="c3"><span>clientside:</span></p><p class="c0"><span></span></p><p class="c3"><span>The settlement output is not paying to a multisig between client and server, but only to the preimage and sig server. Without this change, the client could mutate the txid, invalidating the payment, as the settlement transaction on the server is not invalid. The drawback of this change is that the server _could_ claim payments even after the refund period, as it is not timelocked, while the refund transaction is timelocked until the end of the channel. However, the server can only claim the payment, if the receiver disclosed the preimage with him. With knowledge of the preimage, the client Alice has provable paid to Carol, as was his very intention when he made this payment in the first place. The refunds to the client need to be timelocked until the channel ends, as he could claim the refunds from an revoked channel after the refund period.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span>Payments from the Server to the Client &nbsp;(Bob to Carol)</span></p><p class="c0"><span></span></p><p class="c3"><span>serverside:</span></p><p class="c0"><span></span></p><p class="c3"><span>&hellip;</span></p><p class="c0"><span></span></p><p class="c3"><span>clientside:</span></p><p class="c0"><span></span></p><p class="c3"><span>Here we have the biggest change in the design. In case the client does not provide the preimage in time, we want the funds to return back to the server, the classical refund. This is important, as the server cannot claim the associated payment from the initial sender of the payment Alice after a specified refund time. Therefore it is crucial that the receiver cannot claim these funds after the refund time. </span></p><p class="c0"><span></span></p><p class="c3"><span>On the contrary we want the receiver to be able to claim the funds, if he does provide the secret preimage. At best, there should be nothing the server can do, to interfere with this.</span></p><p class="c0"><span></span></p><p class="c3"><span>On top of that, we also have the malleability problem, as the client can resign, rendering all possible multi-sig outputs invalid.</span></p><p class="c0"><span></span></p><p class="c3"><span>These three problems cannot be sufficiently solved with the current set of features in bitcoin, so we need a design with a good trade-off. As the server is assumes to act honestly at all times, the output is freely accessible by the server. This means, the server can claim the payment at all times. As a compromise, the settlement transaction for the client is not timelocked, such that the client can try to outrace the server by broadcasting both transactions with not delay. He can even claim payments from revoked channels. If this will be misused a lot maliciously, we have to adapt and timelock the settlement transaction up to the end of the channel, making it completely revocable, as all other outputs. </span></p><p class="c0"><span></span></p><p class="c3"><span>The worst the server can do, is to collect the secret preimage from the client, but not update the channel transaction accordingly. He can then collect the payment from the sender and wait till the payment times out on the receiving end, thus keeping the payment. However, it is assumed, that this breach of contract will be made public very soon, and the possible loss of reputation is incentive enough to stay honest. Furthermore, larger payments can always be cut into smaller payments, making this attack less attractive. </span></p><p class="c0"><span></span></p><p class="c3"><span>We further have to enforce that the client change must not be lower than the sum of all receiving payments of any issued channel transaction. If the client starts out with zero balance and then receives all of the server balance in one payment, he can not spend any of these in the channel, and should therefore close the channel. Otherwise the client could spend these funds again, broadcast the revoked channel where he received his funds and try to claim them using his preimage.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Actual Timeframes in TN</span></p><p class="c0"><span></span></p><p class="c3"><span>I made some guesses about the timeframes that are acceptable. These are likely to change in the future, as actual users can give feedback. </span></p><p class="c0"><span></span></p><p class="c3"><span>Total Duration of Payment: </span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7 days ( 604800 seconds )</span></p><p class="c3"><span>This is the total duration for one payment. If the client updates his channel after this time, the payment will get refunded and added to his balance again.</span></p><p class="c0"><span></span></p><p class="c3"><span>Time to Add Receiving Payment</span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 days ( 259200 seconds )</span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the receiver does not update his channel to include a payment within this time after the &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sender issued the payment, it will get refunded.</span></p><p class="c0"><span></span></p><p class="c3"><span>Time to Reveal Preimage </span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 days ( 259200 seconds )</span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the receiver does not reveal the preimage to a payment after this time, the server will </span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;broadcast the complete channel. </span></p><p class="c0"><span></span></p><p class="c3"><span>These timeframes have the following implications:</span></p><ol class="c1 lst-kix_3lz9mskx7fae-0 start" start="1"><li class="c3 c10"><span>If you expect a payment, you should update your channel / check for payments at least every third day, as you may miss payments otherwise</span></li><li class="c3 c10"><span>If you added a receiving payment to your channel, you should reveal the secret as soon as possible, as you may miss the 3 days timeframe, and the server may broadcast the channel, resulting in a lot of fees.</span></li><li class="c3 c10"><span>The last 7 days of a channel, it will get locked internally, disabling all payments to and from the channel. By this we achieve, that at the end of the channel, all payments will be either refunded or complete. Increasing any of the above timeframes will also increase this &lsquo;dead time&rsquo;.</span></li></ol><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c2">Addresses</span></p><p class="c0"><span></span></p><p class="c3"><span>It is favorable to have addresses that are at least similar to the current system of addresses. For a payment in the TN, we need at least the following information:</span></p><p class="c0"><span></span></p><ol class="c1 lst-kix_ge8owqwuqa6k-0 start" start="1"><li class="c3 c10"><span>an identifier of the receiver. This can be a given usertag, a pubkeyhash, or a random id. It is needed for the server, to know which client can produce the preimage needed to claim the payment</span></li><li class="c3 c10"><span>the hashed preimage. This needs to be supplied by the supposed receiver, and submitted by the sender. A preimage may never be used twice, as the server can steal funds of any additional payments with the same preimage, as soon as the receiver revealed it once. </span></li><li class="c3 c10"><span>the TN payment hub of the receiver. </span></li></ol><p class="c0"><span></span></p><p class="c3"><span>(1) and (2) can be added together, with a prefix and checksum into an address very similar to bitcoin addresses. (3) can be implemented into a suffix, similar to email addresses. This also serves as an easy way to reach out to the other payment hub without an additional central address register. Furthermore, (3) can be omitted for payments within one payment hub.</span></p><p class="c0"><span></span></p><p class="c3"><span>4XAAAAAAAAAAHHHHHHHHHHHHHHHHHHHHHHHHCCCC@DDDDDDD.TLD</span></p><p class="c0"><span></span></p><p class="c3"><span>4 - address version, to distinguish from normal and p2sh addresses</span></p><p class="c0"><span></span></p><p class="c3"><span>X - one character to declare which kind of identifier we use (see (1) above)</span></p><p class="c0"><span></span></p><p class="c3"><span>A - ten characters to clearly specify a receiver</span></p><p class="c0"><span></span></p><p class="c3"><span>H - 24 characters, the hashed preimage needed for the payment</span></p><p class="c0"><span></span></p><p class="c3"><span>C - four characters to serve as a checksum against typing errors</span></p><p class="c0"><span></span></p><p class="c3"><span>D.TLD - domain, under which the TN server of the receiver can be reached</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span>This will lead to a total address length of 40 character + domain.</span></p><p class="c0"><span></span></p><p class="c3"><span>It is therefore still possible (and advisable) to have payment requests similar to those used in bitcoin today encoded in small QR codes.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c2">Fees</span></p><p class="c0"><span class="c6"></span></p><p class="c3"><span class="c6">Server Fees</span></p><p class="c0"><span></span></p><p class="c3"><span>A general discussion about the possibilities of fees was outlined in the initial paper of LN. We will have a more specific discussion about the fees in a proper implementation of a TL payment hub here.</span></p><p class="c0"><span></span></p><p class="c3"><span>There are two different kind of fees that we have to consider</span></p><p class="c0"><span></span></p><ol class="c1 lst-kix_yxd24y93fq5q-0 start" start="1"><li class="c3 c10"><span>fees, due to the maintenance of a server that is able to handle all the requests properly,</span></li><li class="c3 c10"><span>fees, due to the funds we need locked up, such that other parties can exchange value.</span></li></ol><p class="c0"><span></span></p><p class="c3"><span>(1) is very straightforward. We have real-world costs running a service that need to be addressed. As costs has to be paid in fiat, this fee has to be thought of as fiat aswell. It should be a flat fee, as the monthly costs are only dependent on the amount of payments, and not on the funds exchanged. For the current exchange rate of around $300, 20 satoshis per payment can be enough to cover these costs.</span></p><p class="c0"><span></span></p><p class="c3"><span>(2) is a much more abstract kind of fee. It is needed, especially in the beginning of a new TN payment hub, to build up enough funds. It has yet to be determined which fee is sufficient here, and it is mainly dependent on the movement of funds, how often money is changing hands. We can calculate the total funds necessary by</span></p><p class="c0"><span></span></p><p class="c3"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FUNDS = MONTHLY EXCHANGED BITCOINS / TURNOVER OF EACH BITCOIN</span></p><p class="c0"><span></span></p><p class="c3"><span>It makes sense, to have a percentage fee here, as higher payments need more funds. Also it is possible to omit these fees, as soon as enough funds has been collected. It is then enough, to only have (1) fees, enabling very cheap transactions.</span></p><p class="c0"><span></span></p><p class="c3"><span>For now, we will start with one percent of the payment as (2). It will make TN payments cost efficient over blockchain for payments up to $5, while having instant payments. These costs will be deducted from the amount of the receiver, such that refunds will not cost any money. In case someone attempts a DDOS attack by issuing lots of payments, we may change this policy, to charge (1) off of the sender.</span></p><p class="c0"><span></span></p><p class="c3"><span>As soon as the TN payment hub does have enough funds ready, (2) will probably get lowered to 0.1 percent or lower to fund further development. A fee market can arise from there on as well, with different payment hubs. In this case, a cap will be probable as well, to stay competetive even for larger payments.</span></p><p class="c0"><span></span></p><p class="c3"><span>This fee structure does allow for micropayments much more efficient than any other payment processor currently. The minimum payment amount of 1000 satoshis is currently worth $0.003 and can be collected paying 3 percent in fees.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Blockchain Fees</span></p><p class="c0"><span></span></p><p class="c3"><span>As the TN payment hub does not collect much fees and also bears the risk of losing his funds to malicious actors, paying the fees necessary to open and close a channel is not sustainable. Therefore all transaction fees are paid by the clients.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c2">Risks</span></p><p class="c0"><span></span></p><p class="c3"><span>Some of the risks outlined in the initial LN paper can be mitigated using different techniques.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Hot Wallets</span></p><p class="c0"><span></span></p><p class="c3"><span>As usual webservers are not considered safe, we generally do not want the webserver to hold any private keys. More precisely, we do not want a webserver to hold information which allows for unauthorized payments. For a future implementation of TN, it will be possible to mark a channel as &lsquo;receiving-only&rsquo;. This action cannot be undone, and the flag will remain up until the end of the channel. When the flag is set, the TN payment hub will reject any payment request from this channel. While it is still possible for a hacker to create a valid payment request, sign it and send it to the payment hub, without the payment hub acknowledging and processing the payment, he is not able to receive any of the money in the channel. Furthermore, the webserver is still able to accept payments, and the final output address for the channel can be set to a safe offline wallet as well. </span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Data Loss</span></p><p class="c0"><span></span></p><p class="c3"><span>Part of the TN protocol is a way to restore the last agreed on channel. The server will send the last version of the channel transaction that was signed by the client and also issue a new version for the client. While there is a trust problem, the client can do this for zero cost once a week or even more often to test the honesty of the server. As the server does not know if the request is a test or not, he does have incentive to act honestly. Furthermore, both parties can decrease the master key depth by one, revoking all old channels.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Malicious Server</span></p><p class="c0"><span></span></p><p class="c3"><span>In case the server is compromised, for whatever reasons, these are the risks associated with the users:</span></p><p class="c0"><span></span></p><ol class="c1 lst-kix_fbh8c7lw08re-0 start" start="1"><li class="c3 c10"><span>The server can resign the opening transaction, locking in funds of both parties. He can then try to demand some of the funds of the client, the classic hostage situations. However, unless all clients give in to these demands, the server will likely still lose money overall, since for each uncooperative client, he does lose all the funds associated in that channel.</span></li><li class="c3 c10"><span>The server can block all requests to/from a client, rendering the channel useless. Both parties will not have access to their funds, until the agreed date, at which the refund transactions will become spendable. </span></li><li class="c3 c10"><span>The server can resign a channel transactions, rendering all depending multisignature-outputs invalid. This includes the unspent funds of the server. As payments in the serverside channel transactions are also encumbered in multisig-outputs, these will be locked up, resulting in a hostage situation again.</span></li><li class="c3 c10"><span>The server can wait for a broadcasted channel transaction from a client, resign, and broadcast it again, trying to reach more nodes. This attack can be difficult to perform, as the client can choose to which nodes he will broadcast his transaction. Furthermore, channel transactions will very rarely be broadcasted at all. This will result in a complete lock up of all funds belonging to the client, while the server can still access his funds. This attack can also be done other way round, such that it is important for the server to be very well connected.</span></li><li class="c3 c10"><span>The server can claim payments to a client, using the unencumbered output to his key, racing against the client. </span></li></ol><p class="c0"><span></span></p><p class="c3"><span>(1) to (4) can mostly be considered as vandalism. The server is not directly benefitting, but rather hopes the client gives in in a hostage situation. Only (5) directly earns the server money. Also note, that all these attacks can not only be identified as such, but the client can cryptographically proof the breach of contract. If the server does broadcast a revoked channel transaction, the client can proof he does own both private keys of the encumbered outputs. As all messages from and to the server are signed, (2) can be proved accordingly. (1), (3) and (4) can be proved, by comparing the transaction in the blockchain with the (server signed) refund / settlement transactions. Finally, if you can find a transaction that is trying to claim outputs of a payment before the agreed refund time, you have proven that the server tried to engage in (5).</span></p><p class="c0"><span></span></p><p class="c3"><span>It serves as an additional descentive, as any malicious action from the server can be instantly proven, and other clients can close their channels accordingly.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Outlook</span></p><p class="c0"><span></span></p><p class="c3"><span>With OP_RLTV merged already, we can further solve some of the problems inherent in TN. Furthermore, also OP_CSV will probably get merged, such that both OP codes might be useable within the next 24 months. In line with the original proposal, it is also possible to include SIGHASH_NOINPUT. Either way, with one of these two, it is possible to establish complete trustless intermediate hubs for instant payments, using either the original design or the design proposed by Rusty Russel.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">OP_RLTV</span></p><p class="c0"><span></span></p><p class="c3"><span>With OP_RLTV, it is possible to change the opening transactions, such that it will contain two outputs. Both outputs will pay to their respective owners after the agreed refund time. This means, that there will be no specific refund transactions, removing all risks associated with the channel opening. All channel transactions will need to include both inputs, with both parties signing both inputs.</span></p><p class="c0"><span></span></p><p class="c3"><span>Furthermore, the output for a payment towards a client in a clientside channel can have the refund time included, such that the server can no longer race against the client in claiming these outputs. </span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3 c21"><span class="c6 c11">Implementation Details</span></p><p class="c0 c4"><span class="c11 c6"></span></p><p class="c3 c4"><span class="c2">Project Structure</span></p><p class="c0 c4"><span class="c2"></span></p><p class="c3 c4"><span>Currently there are 3 projects inside the main folder. </span></p><ol class="c1 lst-kix_jv6tbfowz1em-0 start" start="1"><li class="c3 c10 c4"><span>The server</span></li><li class="c3 c10 c4"><span>The client, that will build into a back-end-library</span></li><li class="c3 c10 c4"><span>A Prototype of a GUI-Wallet, building on top of (2)</span></li></ol><p class="c0 c4"><span class="c2"></span></p><p class="c3 c4"><span class="c2">Communication</span></p><p class="c0"><span></span></p><p class="c3"><span>All requests to the server are directed towards the API URL thunder.network/api. Furthermore, JSON is used for requests, with fields such that</span></p><p class="c0"><span></span></p><ul class="c1 lst-kix_wrb45agb25k0-0 start"><li class="c3 c10"><span>int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type of the request</span></li><li class="c3 c10"><span>String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PUBKEY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Base64 representation of the parties pubkey</span></li><li class="c3 c10"><span>String&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DATA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object, including the data for the request</span></li><li class="c3 c10"><span>int &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIMESTAMP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current timestamp, to prevent replay attacks</span></li><li class="c3 c10"><span>String &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SIGNATURE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Base64 representation of the signature for the request</span></li></ul><p class="c0"><span></span></p><p class="c3"><span>Depending on the type of request, different fields have to be present in the DATA-object. In case of any failure, TYPE will be -1 and the DATA field will contain detailed information about the error.</span></p><p class="c0"><span></span></p><p class="c3"><span>Currently, there are 5 major request types.</span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Establishing the Channel</span></p><p class="c0"><span></span></p><p class="c3"><span>The channel will be established in 3 phases. </span></p><p class="c0"><span></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 472.00px; height: 644.00px;"><img alt="" src="images/image02.png" style="width: 472.00px; height: 644.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Making a Payment</span></p><p class="c0"><span></span></p><p class="c3"><span>Requesting a payment consists of 5 phases. While only 4 phases a technically necessary, the fifth request will ensure data consistency.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 1146.00px;"><img alt="" src="images/image04.png" style="width: 515.00px; height: 1146.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c6">Updating the Channel</span></p><p class="c0"><span></span></p><p class="c3"><span>Updating the channel consists of 4 phases. With the update, both parties reveal secrets of payments currently included in the channel, such that those will be removed, with the balance added properly.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 902.00px;"><img alt="" src="images/image01.png" style="width: 515.00px; height: 902.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c6">Closing the Channel</span></p><p class="c0"><span></span></p><p class="c3"><span>Requesting the closure of a channel only consists of one phase. </span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 509.00px; height: 340.00px;"><img alt="" src="images/image03.png" style="width: 509.00px; height: 340.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c3"><span class="c6">Restoring the Channel for the Client</span></p><p class="c0"><span></span></p><p class="c3"><span>[TBD]</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p></body></html>